# 蓝桥杯第12届python-货物摆放

## 题目描述
小蓝有一个超大的仓库，可以摆放很多货物。

现在，小蓝有n 箱货物要摆放在仓库，每箱货物都是规则的正方体。小蓝规定了长、宽、高三个互相垂直的方向，每箱货物的边都必须严格平行于长、宽、高。

小蓝希望所有的货物最终摆成一个大的长方体。即在长、宽、高的方向上分别堆L, W, H的货物,满足$n = L * W * N$.给定n，请问有多少种堆放货物的方案满足要求。

例如，当n=4时,有以下6种方案：

1×1×4、1×2×2、1×4×1、2×1×2、2×2×1、4×1×1。

请问，当n=2021041820210418（注意有16位数字）时，总共有多少种方案？
提示：建议使用计算机编程解决问题。

## 解题思路
首先想到的是暴力枚举，但是由于我们最少需要将因子枚举到$\sqrt[3]N$， 这道题给的数据达到$10^{16}$，则最终的复杂度达到$O(10^{15})$，显然超时。因此，必须找到一个高效的方法进行枚举操作。

在这里借鉴到高手的做法：**先筛选出n的质数因子，再通过质数因子得到N的所有因子，最后再使用两层循环枚举即可**

## 代码展示
```py
import os
import sys
# 因素+背包（求因子）+遍历
# 不到50毫秒！！！！！！！！！！
# 请在此输入您的代码
n=2021041820210418
l=[]     # ！！！！用于存因数不是因子例如：10=2*5
i=2
x=n
while i<pow(x+1,0.5):
    if x%i==0:
        l.append(i)
        x=x//i
    else:
        i+=1
l.append(x)
s=set()     # ！！！！用于存因子 如10=1*2*5*10
s.add(1)
for j in l:
    p=set()
    for k in s:
        p.add(j*k)
    for k in p:
        s.add(k)
count=0
for k1 in s:             # 遍历两层求解
    for k2 in s:
        if n%(k1*k2)==0:
            count+=1
print(count)
```